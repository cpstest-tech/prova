# ============================================
# CONFIGURAZIONE SICUREZZA - OBBLIGATORIA
# ============================================

# JWT Secret - DEVE essere una stringa casuale lunga e complessa
# Genera con: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=CAMBIA_QUESTO_VALORE_CON_UNA_STRINGA_CASUALE_LUNGA_E_COMPLESSA_DI_ALMENO_64_CARATTERI

# ============================================
# CONFIGURAZIONE SERVER
# ============================================

# Porta del server
PORT=3000

# Ambiente di esecuzione (development | production)
NODE_ENV=development

# URL frontend (per CORS in produzione)
FRONTEND_URL=http://localhost:5173

# ============================================
# CONFIGURAZIONE UPLOAD FILE
# ============================================

# Dimensione massima file upload in bytes (default: 5MB)
MAX_FILE_SIZE=5242880

# ============================================
# CONFIGURAZIONE AMAZON API (OPZIONALE)
# ============================================

# Amazon Product Advertising API
AMAZON_ACCESS_KEY=
AMAZON_SECRET_KEY=
AMAZON_PARTNER_TAG=

# ============================================
# CONFIGURAZIONE SICUREZZA AVANZATA
# ============================================

# Rate Limiting - Login (max tentativi in 15 minuti)
LOGIN_MAX_ATTEMPTS=5

# Rate Limiting - Generale (max richieste in 15 minuti)
GENERAL_MAX_REQUESTS=200

# Account Lock - Tentativi falliti prima del blocco
ACCOUNT_LOCK_THRESHOLD=10

# Account Lock - Durata blocco in minuti
ACCOUNT_LOCK_DURATION=60

# ============================================
# CONFIGURAZIONE DATABASE
# ============================================

# Il database SQLite viene creato automaticamente in server/database/buildpc.db
# Non Ã¨ necessaria alcuna configurazione aggiuntiva

# ============================================
# ISTRUZIONI IMPORTANTI PER LA SICUREZZA
# ============================================

# 1. Copia questo file come .env nella root del progetto
# 2. MODIFICA il JWT_SECRET con un valore casuale e complesso
# 3. NON committare mai il file .env su Git
# 4. In produzione, configura le variabili d'ambiente direttamente sul server
# 5. Usa password forti per gli account admin (min 8 caratteri, maiuscole, numeri, simboli)
# 6. In produzione, imposta NODE_ENV=production e FRONTEND_URL al dominio reale
# 7. Abilita HTTPS in produzione (usa reverse proxy come Nginx)

# ============================================
# GENERAZIONE JWT_SECRET SICURO
# ============================================

# Esegui uno di questi comandi per generare un JWT_SECRET sicuro:
# 
# Node.js:
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#
# OpenSSL:
# openssl rand -hex 64
#
# Python:
# python -c "import secrets; print(secrets.token_hex(64))"

